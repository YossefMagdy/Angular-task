import{a as L,b as R,d as E,e as G,f as J,h as Q}from"./chunk-WYKDHNMS.js";import{$ as F,$a as S,Aa as j,Ha as A,Ka as c,La as y,Lb as K,Mb as N,Ob as U,Sb as z,Ua as V,Wa as p,Za as b,_a as w,ab as o,bb as i,cb as l,db as k,ea as T,eb as s,fa as D,fb as _,fc as h,gb as a,gc as v,hb as f,ia as u,ib as d,jb as $,lb as g,mb as C,nb as x,nc as q,ob as B,pb as H,ra as M,sa as O}from"./chunk-WAF473H6.js";var tt=()=>({"background-color":"#41CCCC",width:"100%",height:"35px","border-radius":"5px",border:"none",display:"block",margin:"auto"}),W=(()=>{class n{product=j.required();store=D(h);get discount(){let t=1-this.product().discountPercentage/100;return(this.product().price*t).toFixed(2)}addTocart(){this.store.dispatch(R({cart:this.product()}))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=u({type:n,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},standalone:!0,features:[g],decls:38,vars:15,consts:[[1,"product-card"],[1,"img-container"],[3,"src"],[1,"product-info-container"],[1,"product-title",3,"title"],[1,"product-desc",3,"title"],[1,"price-container"],[1,"product-more-info"],[1,"product-rate"],[1,"fa-solid","fa-star"],[3,"click","styleObj"],[1,"sale-container"]],template:function(r,e){r&1&&(o(0,"section",0)(1,"div",1),l(2,"img",2),i(),o(3,"div",3)(4,"h3",4),a(5),i(),o(6,"p",5),a(7),i(),o(8,"div",6)(9,"p"),a(10),i(),o(11,"span"),a(12,"USD"),i(),o(13,"p"),a(14),i(),o(15,"span"),a(16,"USD"),i()(),o(17,"div",7)(18,"p"),a(19,"Brand:"),i(),a(20),i(),o(21,"div",7)(22,"p"),a(23,"Category:"),i(),a(24),i(),o(25,"div",7)(26,"p"),a(27,"In stock:"),i(),a(28),i(),o(29,"p",8),l(30,"i",9),a(31),o(32,"span"),a(33),i()(),o(34,"app-button",10),s("click",function(){return e.addTocart()}),a(35,"ADD TO CART"),i()(),o(36,"p",11),a(37),i()()),r&2&&(c(2),p("src",e.product().images[0],A),c(2),p("title",e.product().title),c(),d(" ",e.product().title," "),c(),p("title",e.product().description),c(),d(" ",e.product().description," "),c(3),f(e.product().price),c(4),f(e.discount),c(6),d(" ",e.product().brand," "),c(4),d(" ",e.product().category," "),c(4),d(" ",e.product().stock," "),c(3),d(" ",e.product().rating," "),c(2),d("(",e.product().reviews.length,")"),c(),p("styleObj",C(14,tt)),c(3),d("",e.product().discountPercentage,"%"))},dependencies:[q],styles:[".product-card[_ngcontent-%COMP%]{border:1px solid gray;border-radius:10px;overflow:hidden;position:relative}.sale-container[_ngcontent-%COMP%]{position:absolute;background-color:#41cccc;top:10px;left:10px;padding:5px 10px;border-radius:6px;font-weight:600;font-size:.6em;box-shadow:0 12px 28px -6px #000000bf}.img-container[_ngcontent-%COMP%]{width:100%;height:257px;overflow:hidden}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.product-info-container[_ngcontent-%COMP%]{padding:10px}.product-title[_ngcontent-%COMP%]{width:calc(100% - 10px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:10px 0}.product-desc[_ngcontent-%COMP%]{width:calc(100% - 10px);height:60px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-overflow:ellipsis;margin:15px 0;color:gray}.price-container[_ngcontent-%COMP%]{display:flex}.price-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-inline-end:5px}.price-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray}.price-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{margin-inline-end:25px}.price-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){text-decoration:line-through}.product-more-info[_ngcontent-%COMP%]{display:flex;font-weight:600;margin:10px 0}.product-more-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray}.product-rate[_ngcontent-%COMP%]{color:#f4b000;text-align:end;margin:10px 0}.product-rate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray}"]})}return n})();var X=(()=>{class n{_http;constructor(t){this._http=t}getProduct(){return this._http.get("https://dummyjson.com/products")}static \u0275fac=function(r){return new(r||n)(T(z))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y=n=>({disabled:n}),nt=()=>[],it=n=>({active:n});function ot(n,P){if(n&1){let t=k();o(0,"li")(1,"input",14),s("click",function(){let e=M(t).$implicit,m=_();return O(m.filterProduct(e.category))}),i(),o(2,"label",15),a(3),i()()}if(n&2){let t=P.$implicit;c(),p("id",t.category)("value",t.category),c(),p("for",t.category),c(),$(" ",t.category," (",t.count,") ")}}function rt(n,P){if(n&1&&(o(0,"div",5),l(1,"app-product-card",16),i()),n&2){let t=P.$implicit;c(),p("product",t)}}function ct(n,P){if(n&1){let t=k();o(0,"li",11),s("click",function(){let e=M(t).index,m=_();return O(m.setPage(e+1))}),o(1,"a",12),a(2),i()()}if(n&2){let t=P.index,r=_();p("ngClass",x(2,it,r.isPageActive(t+1))),c(2),f(t+1)}}var Z=(()=>{class n{ProductService;store;products;allproducts;category$;filterKeyword="";itemsPerPage=9;currentPage=1;constructor(t,r){this.ProductService=t,this.store=r}ngOnInit(){this.getProducts(),this.store.pipe(v(G)).subscribe(t=>{let r=(this.currentPage-1)*this.itemsPerPage,e=r+this.itemsPerPage;this.allproducts=t,this.products=t.slice(r,e)}),this.store.pipe(v(Q)).subscribe(t=>{this.currentPage=1}),this.category$=this.store.pipe(v(J))}getProducts(){this.ProductService.getProduct().subscribe(t=>{this.store.dispatch(L({products:t.products}))})}get totalPages(){return Math.ceil(this.allproducts.length/this.itemsPerPage)}setPage(t){if(t>=1&&t<=this.totalPages){this.currentPage=t;let r=(this.currentPage-1)*this.itemsPerPage,e=r+this.itemsPerPage;this.products=this.allproducts.slice(r,e)}}isPageActive(t){return this.currentPage===t}filterProduct(t){if(this.filterKeyword=t,t==="All"){this.store.dispatch(E({filterKeyword:""}));return}this.store.dispatch(E({filterKeyword:t}))}static \u0275fac=function(r){return new(r||n)(y(X),y(h))};static \u0275cmp=u({type:n,selectors:[["app-products"]],standalone:!0,features:[g],decls:22,vars:10,consts:[[1,"row","product-container"],[1,"col-3-filter"],[1,"filter-box"],[1,"col-9-content"],[1,"row"],[1,"col-4-product"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click","ngClass"],[1,"fa-solid","fa-chevron-left"],["class","page-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"page-item",3,"click","ngClass"],[1,"page-link"],[1,"fa-solid","fa-chevron-right"],["type","radio","name","product-type",3,"click","id","value"],[3,"for"],[3,"product"]],template:function(r,e){r&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3"),a(4,"Products"),i(),o(5,"ul"),w(6,ot,4,5,"li",null,b),B(8,"async"),i()()(),o(9,"div",3)(10,"div",4),w(11,rt,2,1,"div",5,b),i(),o(13,"nav")(14,"ul",6)(15,"li",7)(16,"a",8),s("click",function(){return e.setPage(e.currentPage-1)}),l(17,"i",9),i()(),V(18,ct,3,4,"li",10),o(19,"li",11),s("click",function(){return e.setPage(e.currentPage+1)}),o(20,"a",12),l(21,"i",13),i()()()()()()),r&2&&(c(6),S(H(8,3,e.category$)),c(5),S(e.products),c(5),p("ngClass",x(5,Y,e.currentPage===1)),c(2),p("ngForOf",C(7,nt).constructor(e.totalPages)),c(),p("ngClass",x(8,Y,e.currentPage===e.totalPages)))},dependencies:[W,U,K,N],styles:[".product-container[_ngcontent-%COMP%]{margin-top:10px}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}.col-3-filter[_ngcontent-%COMP%]{grid-column:span 3}.col-9-content[_ngcontent-%COMP%]{grid-column:span 9}.filter-box[_ngcontent-%COMP%]{height:15em;padding:15px;border:1px solid #667085;overflow:hidden;border-radius:8px}.filter-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:20px 0 0;padding:20px 0}.filter-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;cursor:pointer}.filter-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{display:block;width:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:gray;border-radius:10px;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#000;border-radius:10px}.col-4-product[_ngcontent-%COMP%]{grid-column:span 4}.pagination[_ngcontent-%COMP%]{list-style:none;display:flex;width:fit-content;margin:20px auto}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:5px;margin:0 10px;display:flex;justify-content:center;align-items:center;cursor:pointer}.pagination[_ngcontent-%COMP%]   li.page-item.active[_ngcontent-%COMP%]{background-color:#41cccc}@media (max-width: 1050px){.col-4-product[_ngcontent-%COMP%]{grid-column:span 6}}@media (max-width: 900px){.col-3-filter[_ngcontent-%COMP%]{grid-column:span 4}.col-9-content[_ngcontent-%COMP%]{grid-column:span 8}.col-4-product[_ngcontent-%COMP%]{grid-column:span 12}}@media (max-width: 750px){.col-3-filter[_ngcontent-%COMP%], .col-9-content[_ngcontent-%COMP%]{grid-column:span 6}}@media (max-width: 645px){.col-3-filter[_ngcontent-%COMP%]{grid-column:span 12}.filter-box[_ngcontent-%COMP%]{height:auto!important}.filter-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;height:auto;overflow-y:hidden}.filter-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:200px;white-space:nowrap;margin:0 6px}.filter-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-inline-start:5px}[_ngcontent-%COMP%]::-webkit-scrollbar{display:block;height:4px}.col-9-content[_ngcontent-%COMP%]{grid-column:span 12}}"]})}return n})();var bt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=u({type:n,selectors:[["app-home"]],standalone:!0,features:[g],decls:6,vars:0,consts:[[1,"container"]],template:function(r,e){r&1&&(o(0,"main",0)(1,"h4"),a(2,"Products"),i(),o(3,"p"),a(4,"Home / products"),i(),l(5,"app-products"),i())},dependencies:[Z],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 185px)}h4[_ngcontent-%COMP%]{margin:1em 0}"]})}return n})();export{bt as HomeComponent};
